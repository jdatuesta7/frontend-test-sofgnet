<app-sidebar></app-sidebar>

<div class="container mt-4">

    <div class="row">
        <h1 class="col-md-8 fs-2">Listado de vehiculos</h1>

        <div class="col-md-4">
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#vehicle-create">Nuevo
                vehiculo
            </button>
        </div>
    </div>

    <table class="table table-striped table-hover bg-white mt-4">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Marca</th>
                <th scope="col">AÃ±o</th>
                <th scope="col">Capacidad</th>
                <th scope="col">Descripcion</th>
                <th scope="col"></th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let vehicle of vehicles; let i = index">
                <th scope="row">{{i}}</th>
                <td>{{vehicle.make}}</td>
                <td>{{vehicle.year}}</td>
                <td>{{vehicle.capacity}}</td>
                <td>
                    {{vehicle.description.slice(0, 70) }}{{ vehicle.description.length >= 70 ? '...' : '' }}
                </td>

                <td>
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            Acciones
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                            <li><a (click)="editVehicle(vehicle)" class="dropdown-item" role="button">Editar</a></li>
                            <li><a (click)="removeVehicle(vehicle.id)" class="dropdown-item" role="button">Eliminar</a>
                            </li>
                        </ul>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>

    <app-vehicles-create></app-vehicles-create>

    <button #asBtnEditModal type="button" hidden data-bs-toggle="modal" data-bs-target="#vehicle-edit">
        Editar vehiculo
    </button>
    <app-vehicles-edit></app-vehicles-edit>
</div>